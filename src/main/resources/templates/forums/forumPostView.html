<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:include="/partials/head.html :: head">
<body>
<nav th:include="/partials/navBar.html :: navBar"></nav>
<div class="container-fluid">
<!--    topic-->
    <div>
        <h3 th:text="${posts.getTitle()}"></h3>
        <p th:text="${posts.getBody()}"></p>
        <h5><span th:text="${posts.getUser().getUsername()}">username</span></h5>
        <span th:if="${posts.user.getId() == user.getId()}"><a th:href="@{/edit/{id}/post(id=${posts.id})}"><sup>edit</sup></a></span>&nbsp;
    </div>
<!--    replies-->
    <div  th:each="reply : ${replies}">
        <p th:text="${reply.body}"></p>
        <h4 th:text="${reply.forumPost.getId()}" ></h4>
        <p th:text="${reply.user.getUsername()}"></p>
        <span th:if="${reply.user.getId() == user.getId()}"><a th:href="@{/edit/reply/{id}(id=${reply.getId()})}"><sup>edit</sup></a></span>&nbsp;
    </div>
<!--    reply form-->
    <form th:action="@{/create/reply/{id}(id=${posts.getId()})}" method="post" th:object="${reply}">
        <textarea rows="12" cols="100" name="message" th:field="*{body}"></textarea><br>
        <button type="submit">Submit Reply</button>
    </form>
    <button><a th:href="@{/report}">report post</a></button>
    <button><a th:href="@{'/forum'}">Go back to forum</a></button>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script></body>
</body>
</html>